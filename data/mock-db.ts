import type { SkuVector, UserVector } from "@/lib/aurora/types";

export const DEFAULT_ANCHOR_SKU_ID = "tf_research_serum";

export const DEFAULT_USER_VECTOR: UserVector = {
  skin_type: ["combination", "oily"],
  barrier_status: "impaired",
  goals: [
    { track: "oil_control", priority: 1 },
    { track: "brightening", priority: 2 },
    { track: "redness", priority: 2 },
  ],
  platform_weights: {
    RED: 0.45,
    Ecommerce: 0.35,
    Reddit: 0.15,
    DermSources: 0.05,
  },
  budget: { total_monthly: 600, strategy: "high_low" },
  constraints: ["minimal_steps"],
};

export const AURORA_SKU_DB: SkuVector[] = [
  {
    sku_id: "tf_research_serum",
    name: "Research Serum",
    brand: "Tom Ford",
    category: "serum",
    price: 350,
    currency: "USD",
    mechanism: {
      oil_control: 0.9,
      soothing: 0.1,
      repair: 0.2,
      redness: 0.35,
      acne_comedonal: 0.2,
      brightening: 0.45,
    },
    experience: { texture: "lotion", finish: "natural", pilling_risk: 0.15 },
    risk_flags: ["alcohol", "high_irritation"],
    engineering: { usability_penalty: 0.15, stability_complexity: 0.7, delivery_tech: ["encapsulation"] },
    social_stats: {
      platform_scores: { RED: 0.62, Reddit: 0.55, Ecommerce: 0.7, DermSources: 0.55 },
      RED_score: 0.62,
      Reddit_score: 0.55,
      burn_rate: 0.18,
      key_phrases: { RED: ["肤感高级", "酒精感明显"], Reddit: ["strong fragrance/alcohol"] },
    },
    actives: ["Vitamin C"],
    notes: ["Anchor SKU (luxury). High alcohol → veto when barrier impaired."],
  },
  {
    sku_id: "to_copper_peptides",
    name: "Multi-Peptide + Copper Peptides 1%",
    brand: "The Ordinary",
    category: "treatment",
    price: 30,
    currency: "USD",
    mechanism: {
      oil_control: 0.2,
      soothing: 0.6,
      repair: 0.85,
      redness: 0.5,
      acne_comedonal: 0.15,
      brightening: 0.25,
    },
    experience: { texture: "sticky", finish: "natural", stickiness: 0.75, pilling_risk: 0.35 },
    risk_flags: [],
    engineering: { usability_penalty: 0.4, stability_complexity: 0.6, delivery_tech: ["multi_peptide_system"] },
    social_stats: {
      platform_scores: { RED: 0.8, Reddit: 0.78, Ecommerce: 0.76, DermSources: 0.6 },
      RED_score: 0.8,
      Reddit_score: 0.78,
      burn_rate: 0.05,
      key_phrases: { RED: ["修护强", "有点黏"], Reddit: ["great recovery", "tacky"] },
    },
    actives: ["Copper Peptides"],
    notes: ["Low-cost dupe candidate.", "Sticky texture trade-off."],
  },
  {
    sku_id: "la_mer_concentrate",
    name: "The Concentrate",
    brand: "La Mer",
    category: "moisturizer",
    price: 400,
    currency: "USD",
    mechanism: {
      oil_control: 0.15,
      soothing: 0.7,
      repair: 0.9,
      redness: 0.6,
      acne_comedonal: 0.1,
      brightening: 0.2,
    },
    experience: { texture: "thick", finish: "dewy", pilling_risk: 0.15 },
    risk_flags: [],
    engineering: { usability_penalty: 0.2, stability_complexity: 0.8, delivery_tech: ["fermentation_extracts"] },
    social_stats: {
      platform_scores: { RED: 0.74, Reddit: 0.6, Ecommerce: 0.82, DermSources: 0.65 },
      RED_score: 0.74,
      Reddit_score: 0.6,
      burn_rate: 0.03,
    },
    actives: [],
    notes: ["High repair, rich texture."],
  },
  {
    sku_id: "cerave_foaming_cleanser",
    name: "Foaming Facial Cleanser",
    brand: "CeraVe",
    category: "cleanser",
    price: 15,
    currency: "USD",
    mechanism: {
      oil_control: 0.55,
      soothing: 0.45,
      repair: 0.25,
      redness: 0.2,
      acne_comedonal: 0.2,
      brightening: 0.05,
    },
    experience: { texture: "gel", finish: "natural", pilling_risk: 0.05 },
    risk_flags: [],
    engineering: { usability_penalty: 0.05, stability_complexity: 0.4 },
    social_stats: {
      platform_scores: { RED: 0.7, Reddit: 0.72, Ecommerce: 0.78, DermSources: 0.7 },
      RED_score: 0.7,
      Reddit_score: 0.72,
      burn_rate: 0.02,
    },
    actives: [],
    notes: ["Low-budget cleanser. Gentle."],
  },
  {
    sku_id: "el_anr",
    name: "Advanced Night Repair",
    brand: "Estée Lauder",
    category: "serum",
    price: 100,
    currency: "USD",
    mechanism: {
      oil_control: 0.3,
      soothing: 0.5,
      repair: 0.7,
      redness: 0.45,
      acne_comedonal: 0.25,
      brightening: 0.4,
    },
    experience: { texture: "lotion", finish: "natural", pilling_risk: 0.2 },
    risk_flags: [],
    engineering: { usability_penalty: 0.15, stability_complexity: 0.65, delivery_tech: ["time_release"] },
    social_stats: {
      platform_scores: { RED: 0.68, Reddit: 0.66, Ecommerce: 0.8, DermSources: 0.65 },
      RED_score: 0.68,
      Reddit_score: 0.66,
      burn_rate: 0.04,
    },
    actives: [],
    notes: ["Balanced repair serum."],
  },
  {
    sku_id: "to_azelaic_acid_10",
    name: "Azelaic Acid Suspension 10%",
    brand: "The Ordinary",
    category: "treatment",
    price: 10,
    currency: "USD",
    mechanism: {
      oil_control: 0.8,
      soothing: 0.35,
      repair: 0.2,
      redness: 0.9,
      acne_comedonal: 0.85,
      brightening: 0.7,
    },
    experience: { texture: "sticky", finish: "matte", pilling_risk: 0.9, stickiness: 0.6 },
    risk_flags: ["acid"],
    engineering: { usability_penalty: 0.8, stability_complexity: 0.9, delivery_tech: ["suspension_system"] },
    social_stats: {
      platform_scores: { RED: 0.75, Reddit: 0.85, Ecommerce: 0.7, DermSources: 0.6 },
      RED_score: 0.75,
      Reddit_score: 0.85,
      burn_rate: 0.07,
      key_phrases: { RED: ["去闭口神", "搓泥宝", "早晚别叠"], Reddit: ["HG for rosacea", "matte finish"] },
    },
    actives: ["Azelaic Acid"],
    notes: ["From prototype JSON Schema + Mock Data.", "High pilling risk → engineering penalty."],
  },
  {
    sku_id: "loreal_uv_defender",
    name: "UV Defender SPF 50+",
    brand: "L'Oréal",
    category: "sunscreen",
    price: 20,
    currency: "USD",
    mechanism: {
      oil_control: 0.2,
      soothing: 0.2,
      repair: 0.1,
      redness: 0.15,
      acne_comedonal: 0.05,
      brightening: 0.25,
    },
    experience: { texture: "lotion", finish: "natural", pilling_risk: 0.25 },
    risk_flags: [],
    engineering: { usability_penalty: 0.2, stability_complexity: 0.6 },
    social_stats: {
      platform_scores: { RED: 0.7, Reddit: 0.55, Ecommerce: 0.78, DermSources: 0.65 },
      RED_score: 0.7,
      Reddit_score: 0.55,
      burn_rate: 0.03,
    },
    actives: ["UV Filters"],
    notes: ["Budget-friendly sunscreen option (for routine completeness)."],
  },
] satisfies SkuVector[];
